# SDD Manager Electron版 UX/UIレビュー

**作成日**: 2025-12-01
**対象バージョン**: 開発版 (dev)

---

## 1. 総合評価

### 良い点
- 3カラムレイアウトで情報の階層が明確
- ダークモード対応が充実
- 日本語UIが適切にローカライズされている
- Tailwind CSSによる一貫したスタイリング基盤

### 改善が必要な領域
- 情報過多による認知負荷
- 一部のカラー使用における統一性の欠如
- アニメーションの不足
- ボタンスタイルの一貫性

---

## 2. レイアウト構成の問題点

### 2.1 3カラムレイアウトの密度問題

**現状**:
- 左サイドバー: 仕様一覧 + フィルター + GlobalAgentPanel
- 中央: エディター (タブ + ツールバー + コンテンツ + ステータスバー)
- 右サイドバー: Agent一覧 + WorkflowView (6フェーズ + バリデーション)

**問題点**:
1. **右サイドバーの情報過多**: Agent一覧パネルとWorkflowViewが縦に配置され、どちらも重要な情報だが狭い領域に詰め込まれている
2. **フェーズ間の矢印コネクタ**: 6つのフェーズ間に5つの`↓`矢印があり、縦方向のスペースを消費
3. **バリデーションオプションの配置**: フェーズ間に挿入されるvalidate-gap, validate-design, validate-implがUIをさらに縦長に

**改善提案**:
- フェーズ一覧をコンパクトなタイムライン表示に変更
- 矢印コネクタを線/ドットに簡略化
- バリデーションをフェーズとは別のセクション（折りたたみ可能）に分離

### 2.2 下部パネルの問題

**現状**:
- AgentLogPanel + AgentInputPanelが下部に固定
- リサイズ可能だが初期高さが192px

**問題点**:
1. ログパネルが常時表示されるため、メインコンテンツ領域が狭くなる
2. Agent未選択時も「Agentを選択してください」メッセージが表示され続ける

**改善提案**:
- Agent未選択時はパネルを自動的に最小化/非表示
- タブまたはドロワーUIで必要時のみ展開

---

## 3. コンポーネント別の問題点

### 3.1 WorkflowView (右サイドバー)

**問題点**:

| 項目 | 現状 | 問題 |
|------|------|------|
| フェーズアイコン | PlayCircle/Ban | 意味が直感的でない |
| 状態表示 | pending/generated/approved | 日本語ラベルと状態が一致しない |
| ボタン密度 | 実行/承認/承認して実行 | 状態によってボタンが変わり混乱 |
| 情報量 | 各フェーズに複数の操作要素 | 認知負荷が高い |

**具体的な問題**:
```
要件定義 [◯ PlayCircle] [info] --- [生成完了] [✓ 承認]
       ↓
validate-gap [checkbox] [実行]
       ↓
設計 [◯ PlayCircle] [info] --- [実行]
```

- 1フェーズあたり4-5個のインタラクティブ要素がある
- 自動実行許可アイコン、infoボタン、状態ラベル、アクションボタンが横並び

**改善提案**:
- フェーズを1行に圧縮（アイコン + 名前 + 状態のみ）
- 詳細操作はホバーまたはクリック時にポップオーバー/サイドパネルで表示
- バリデーションオプションを別セクションに分離

### 3.2 SpecList (左サイドバー)

**問題点**:

1. **各仕様アイテムの情報量**:
   - 仕様名 + コピーボタン
   - フェーズラベル（カラーバッジ）
   - Agent数（実行中の場合）
   - 更新日時

2. **フェーズカラーの統一性**:
   ```
   initialized: gray-200/gray-700
   requirements-generated: blue-100/blue-700
   design-generated: yellow-100/yellow-700
   tasks-generated: orange-100/orange-700
   implementation-in-progress: purple-100/purple-700
   implementation-complete: green-100/green-700
   ```
   - カラーが6種類あり、学習コストが高い
   - purple/orangeの使用が他の部分と整合していない

**改善提案**:
- フェーズ表示を進捗バー（プログレスインジケーター）に変更
- カラーパレットを3-4色に削減（未完了/進行中/完了/エラー）

### 3.3 PhaseItem

**問題点**:

1. **状態とボタンの組み合わせが複雑**:
   - `pending` + 前フェーズが`generated` → 「承認して実行」ボタン
   - `pending` + 実行可能 → 「実行」ボタン
   - `pending` + 実行不可 → disabled「実行」ボタン
   - `generated` → 「生成完了」ラベル + 「承認」ボタン
   - `approved` → 「承認済」/「完了」ラベル

2. **自動実行許可トグル**:
   - フェーズ名全体がクリッカブル（トグル用）で誤操作リスク
   - PlayCircle（緑）とBan（グレー）のアイコン差が微妙

**改善提案**:
- トグルを明示的なチェックボックスまたはスイッチUIに
- 状態遷移をより視覚的に（プログレスステップUI）

### 3.4 ArtifactEditor

**問題点**:

1. **タブUI**:
   - requirements.md / design.md / tasks.md / research.md
   - ファイル拡張子`.md`は技術的で、非開発者には不親切

2. **編集/プレビュー切り替え**:
   - アイコンのみ（Edit/Eye）でラベルなし
   - どちらがアクティブか視認性が低い

3. **未保存状態の表示**:
   - タブ内の小さいオレンジの丸（Circle）
   - ステータスバーの「未保存の変更あり」テキスト
   - 二重表示で冗長

**改善提案**:
- タブラベルを「要件」「設計」「タスク」「リサーチ」に変更
- 編集/プレビューボタンにラベル追加
- 未保存状態を1箇所（保存ボタン or タブ）に統一

### 3.5 AgentLogPanel

**問題点**:

1. **ヘッダー情報の過多**:
   ```
   Terminal icon | Agentログ | - | status | | | agent-id - session-id | Loader
   ```
   - agent-id / session-idは技術情報で通常不要

2. **整形/RAW切り替え**:
   - FileText/Codeアイコンのみで意味が分かりにくい

**改善提案**:
- ヘッダーを「Agentログ: {phase}」に簡略化
- agent-id/session-idはツールチップまたは詳細パネルへ移動
- 切り替えボタンにラベル追加

### 3.6 CreateSpecDialog

**現状は比較的良好**:
- シンプルな単一フィールド（説明のみ）
- 明確なアクションボタン
- エラー表示も適切

**軽微な問題**:
- プレースホルダーテキストが長い
- 「spec-manager:initが仕様名を自動生成します」は技術用語

**改善提案**:
- プレースホルダー: 「実装したい機能を説明してください」

---

## 4. カラーパレットの問題

### 4.1 現在のカラー使用状況

| 用途 | カラー | 問題 |
|------|--------|------|
| プライマリアクション | blue-500 | 一貫性あり ✓ |
| 成功/完了 | green-500/green-100 | 一貫性あり ✓ |
| エラー/停止 | red-500/red-600 | 一貫性あり ✓ |
| 警告/中断 | yellow-500/orange-500 | **不統一** |
| 実行中 | blue-500 + spin | 一貫性あり ✓ |
| フェーズラベル | 6色（gray/blue/yellow/orange/purple/green） | **過多** |
| 選択状態 | blue-100/blue-800 | 一貫性あり ✓ |

### 4.2 問題のある箇所

1. **警告色の不統一**:
   - `interrupted`状態: yellow-500
   - `tasks-generated`フェーズ: orange-100
   - `design-generated`フェーズ: yellow-100
   - 用途が異なるのに同系色が混在

2. **purple の孤立した使用**:
   - `implementation-in-progress`: purple-100
   - 他のどこにもpurpleは使われていない

### 4.3 改善提案

**統一カラーパレット**:
```
Primary (Action):     blue-500
Success (Complete):   green-500
Warning (Attention):  amber-500 (yellow系を統一)
Error (Stop/Fail):    red-500
Neutral (Pending):    gray-400
Progress (In-prog):   blue-400 + animation
```

---

## 5. アニメーション・トランジションの評価

### 5.1 現在実装されているアニメーション

| 要素 | アニメーション | 評価 |
|------|--------------|------|
| 実行中インジケーター | Loader2 animate-spin | ✓ 適切 |
| 通知トースト | slide-in-from-right (200ms) | ✓ 適切 |
| ボタンホバー | transition-colors | ✓ 適切 |
| リサイズハンドル | なし | △ 改善余地あり |
| タブ切り替え | なし | ✗ 追加推奨 |
| ダイアログ表示 | なし | ✗ 追加推奨 |
| パネル展開/折りたたみ | なし | ✗ 追加推奨 |

### 5.2 アニメーションが不足している箇所

1. **ダイアログ表示/非表示**:
   - 現状: 即座に表示/消滅
   - 推奨: フェードイン/アウト + スケール

2. **タブ切り替え**:
   - 現状: コンテンツが即座に切り替わる
   - 推奨: クロスフェードまたはスライド

3. **パネル折りたたみ**（Agentログ、GlobalAgentPanelなど）:
   - 現状: なし（実装されていない機能）
   - 推奨: 高さアニメーション

4. **リスト項目追加/削除**:
   - Agent追加時、Spec追加時
   - 推奨: フェードイン/スライドイン

### 5.3 推奨するCSS追加

```css
/* ダイアログアニメーション */
@keyframes dialog-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.dialog-enter {
  animation: dialog-in 150ms ease-out;
}

/* パネル折りたたみ */
.panel-collapse {
  transition: height 200ms ease-in-out;
  overflow: hidden;
}

/* リスト項目追加 */
@keyframes list-item-in {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
```

---

## 6. 改善優先度マトリクス

| 優先度 | 項目 | 影響度 | 工数 |
|--------|------|--------|------|
| **高** | WorkflowViewの情報密度削減 | 大 | 中 |
| **高** | カラーパレット統一 | 中 | 小 |
| **高** | フェーズラベルの日本語化 | 小 | 小 |
| **中** | ダイアログアニメーション追加 | 中 | 小 |
| **中** | Agent未選択時のパネル最小化 | 中 | 中 |
| **中** | ボタンアイコンへのラベル追加 | 小 | 小 |
| **低** | リスト項目アニメーション | 小 | 中 |
| **低** | タブラベルの日本語化 | 小 | 小 |

---

## 7. 具体的な改善アクション

### Phase 1: クイックウィン（1-2日）

1. **カラーパレット統一**
   - `PHASE_COLORS`を4色に削減
   - purple → blue, orange → amber に統一

2. **タブラベル日本語化**
   - requirements.md → 要件定義
   - design.md → 設計
   - tasks.md → タスク
   - research.md → リサーチ

3. **ボタンラベル追加**
   - 編集/プレビュー切り替えにテキスト追加
   - 整形/RAW切り替えにテキスト追加

### Phase 2: 中規模改善（1週間）

1. **WorkflowViewのリデザイン**
   - フェーズをコンパクトな1行表示に
   - 詳細操作をポップオーバーに移動
   - バリデーションを折りたたみセクションに

2. **アニメーション追加**
   - ダイアログ表示/非表示
   - タブ切り替え

3. **AgentLogPanelの改善**
   - Agent未選択時の最小化
   - ヘッダー情報の簡略化

### Phase 3: 大規模改善（2-3週間）

1. **レイアウトの見直し**
   - 右サイドバーの構成変更
   - 下部パネルのドロワー化

2. **フェーズ表示の刷新**
   - プログレスステップUIの導入
   - 視覚的な状態遷移表現

---

## 8. 参考：競合製品のUI/UXパターン

### GitHub Projects
- カンバン形式のタスク管理
- フェーズ＝カラム、状態＝カード位置
- ドラッグ&ドロップで状態遷移

### Notion
- サイドバーは折りたたみ可能
- ページ内コンテンツは広いスペース
- ブロックベースの柔軟なレイアウト

### Linear
- ミニマルな3カラムレイアウト
- 明確なカラーコーディング（優先度/状態）
- キーボードショートカット重視

---

## 9. 結論

SDD Manager Electron版は基本的な機能は揃っているが、**情報密度の高さ**と**アニメーションの不足**が主要な改善ポイント。特にWorkflowViewの右サイドバーは、6フェーズ+3バリデーション+進捗表示+ボタン群が狭い領域に詰め込まれており、ユーザーの認知負荷が高い。

カラーパレットの統一とアニメーション追加は比較的低工数で実施可能で、即効性のある改善となる。レイアウトの抜本的見直しは工数がかかるが、長期的なUX向上のために検討すべき。
