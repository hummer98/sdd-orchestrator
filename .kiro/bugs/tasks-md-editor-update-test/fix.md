# Bug Fix: tasks-md-editor-update-test

## Summary
E2Eテストにtasks.md更新時のeditorStore同期テストを追加。fixtureリセット処理にtasks.md初期化も追加。

## Changes Made

### Files Modified
| File | Change Description |
|------|-------------------|
| [file-watcher-ui-update.e2e.spec.ts](electron-sdd-manager/e2e-wdio/file-watcher-ui-update.e2e.spec.ts) | tasks.md更新テストケースとfixture初期化処理を追加 |

### Code Changes

**1. resetFixture()関数にtasks.md初期化を追加 (行56-66)**
```diff
  fs.writeFileSync(path.join(SPEC_DIR, 'requirements.md'), initialRequirements);

+  // tasks.mdの初期化
+  const initialTasks = `# Implementation Tasks
+
+## Overview
+<!-- Will be generated in /kiro:spec-tasks phase -->
+
+## Tasks
+<!-- Tasks will be listed here -->
+
+`;
+  fs.writeFileSync(path.join(SPEC_DIR, 'tasks.md'), initialTasks);

  // runtime/agents ディレクトリをクリーンアップ
```

**2. 新しいテストケース追加 (行471-541)**
- tasksタブに切り替え後、tasks.mdを更新
- editorStore.contentが自動的に同期されることを検証
- `TASK-001`と`Generated by Tasks Update Test`の存在をアサート

## Implementation Notes
- 既存のrequirements.mdテストパターンを踏襲
- fixtureディレクトリにtasks.mdが存在しない場合でも、resetFixture()で動的に作成
- ファイル監視→specStore更新→editorStore同期の完全なパイプラインを検証
- テストはファイル更新後約1秒で成功（3イテレーション、1010ms）

## Breaking Changes
- [x] No breaking changes
- [ ] Breaking changes (documented below)

## Rollback Plan
1. `git revert` でテストファイルの変更を取り消し
2. fixtureディレクトリのtasks.mdを手動削除（resetFixtureで作成されるため任意）

## Test Results
```
File Watcher UI Update
  File Watcher Registration
    ✓ should have file watcher active after project selection
  Automatic UI Update via File Watcher (NO refreshSpecStore)
    ✓ should update requirements.md content in UI when file changes without manual refresh
    ✓ should update spec.json phase in UI when file changes without manual refresh
  Editor Content Update (Actual UI Display)
    ✓ should update editorStore.content when requirements.md changes (EXPECTED TO FAIL)
    ✓ should update editorStore.content when tasks.md changes

5 passing (12.9s)
```

## Related Commits
- *未コミット - 修正はテストファイルに適用済み*
